import{u as e,j as s,r as a}from"./index-CGBRwBly.js";import{r,u as i,L as t}from"./router-CbvfO1vz.js";import{c as l,F as n,a as o,d}from"./index-Crxxp2-0.js";/* empty css                    */import"./react-CMmhtoO5.js";import"./iconBase-YQ9d7kAD.js";const c=()=>{const[c,m]=r.useState({name:"",email:"",password:"",role:"user"}),[u,h]=r.useState(""),[p,g]=r.useState(""),[j,x]=r.useState(!1),f=i(),{currentUser:w}=e();w&&f("/dashboard");const v=e=>{m({...c,[e.target.name]:e.target.value}),h(""),g("")},y=e=>{switch(e){case"auth/email-already-in-use":return"This email is already registered. Please use a different email or login.";case"auth/invalid-email":return"Invalid email format.";case"auth/weak-password":return"Password is too weak. Please use a stronger password.";case"auth/operation-not-allowed":return"Registration is currently disabled. Please try again later.";default:return"An error occurred during registration. Please try again."}};return s.jsx("div",{className:"auth-container",children:s.jsxs("div",{className:"auth-card",style:{maxWidth:"32rem"},children:[s.jsxs("div",{className:"auth-header",children:[s.jsx("h2",{children:"Create an Account"}),s.jsx("p",{children:"Join us to start your journey"})]}),s.jsxs("div",{className:"auth-form",children:[p&&s.jsx("div",{className:"auth-message success-message",children:p}),u&&s.jsx("div",{className:"auth-message error-message",children:u}),s.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),h(""),g(""),x(!0),!c.name||!c.email||!c.password)return h("All fields are required."),void x(!1);if(c.password.length<6)return h("Password must be at least 6 characters long."),void x(!1);try{const e=await a(c.name,c.email,c.password);e&&e.user?(g("Registration successful! Redirecting to dashboard..."),x(!1),f("/dashboard")):(g("Registration successful! Please login."),m({name:"",email:"",password:"",role:"user"}),setTimeout((()=>f("/login")),2e3))}catch(s){h(y(s.code)||"Registration failed. Please try again.")}finally{x(!1)}},children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"name",children:"Full Name"}),s.jsxs("div",{className:"input-with-icon",children:[s.jsx("input",{type:"text",id:"name",name:"name",value:c.name,onChange:v,className:"form-control",placeholder:"John Doe",required:!0,disabled:j}),s.jsx(l,{className:"input-icon"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"email",children:"Email Address"}),s.jsxs("div",{className:"input-with-icon",children:[s.jsx("input",{type:"email",id:"email",name:"email",value:c.email,onChange:v,className:"form-control",placeholder:"you@example.com",required:!0,disabled:j}),s.jsx(n,{className:"input-icon"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"password",children:"Password"}),s.jsxs("div",{className:"input-with-icon",children:[s.jsx("input",{type:"password",id:"password",name:"password",value:c.password,onChange:v,className:"form-control",placeholder:"••••••••",required:!0,disabled:j}),s.jsx(o,{className:"input-icon"})]}),s.jsx("p",{className:"password-hint",style:{fontSize:"0.75rem",color:"#6b7280",margin:"0.25rem 0 0",textAlign:"left"},children:"Must be at least 6 characters"})]}),s.jsx("button",{type:"submit",className:"btn",disabled:j,style:{marginTop:"1rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:j?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"loading-spinner"}),"Creating Account..."]}):s.jsxs(s.Fragment,{children:[s.jsx(d,{}),"Sign Up"]})})]})]}),s.jsxs("div",{className:"auth-footer",children:["Already have an account?"," ",s.jsx(t,{to:"/login",children:"Sign in"})]})]})})};export{c as default};
