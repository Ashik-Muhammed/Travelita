import{j as e}from"./index-DbrkFvWc.js";import{r as s,u as a,L as r}from"./router-DJX9oSP-.js";import{a as l}from"./axios-rSMZb3Ae.js";/* empty css                   */import"./react-CMmhtoO5.js";const t=()=>{const[t,i]=s.useState({name:"",email:"",password:"",role:"user"}),[n,o]=s.useState(""),[d,m]=s.useState(""),[c,u]=s.useState(!1),p=a(),h=e=>{i({...t,[e.target.name]:e.target.value}),o(""),m("")};return e.jsx("div",{className:"register-page-container",children:e.jsxs("div",{className:"card register-form-card",children:[e.jsx("h2",{children:"Create Account"}),d&&e.jsx("p",{className:"success-message-register",children:d}),n&&e.jsx("p",{className:"error-message-register",children:n}),e.jsxs("form",{onSubmit:async e=>{var s,a;if(e.preventDefault(),o(""),m(""),t.password.length<6)o("Password must be at least 6 characters long.");else try{u(!0);await l.post("http://localhost:5000/api/auth/register",t);m("Registration successful! Please login."),o(""),i({name:"",email:"",password:"",role:"user"}),setTimeout((()=>p("/login")),2e3)}catch(r){o((null==(a=null==(s=r.response)?void 0:s.data)?void 0:a.message)||"Registration failed. Please try again.")}finally{u(!1)}},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"name",children:"Full Name"}),e.jsx("input",{type:"text",id:"name",name:"name",className:"input",placeholder:"Enter your full name",value:t.name,onChange:h,required:!0,disabled:c})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email Address"}),e.jsx("input",{type:"email",id:"email",name:"email",className:"input",placeholder:"Enter your email",value:t.email,onChange:h,required:!0,disabled:c})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"password",children:"Password"}),e.jsx("input",{type:"password",id:"password",name:"password",className:"input",placeholder:"Create a password (min. 6 characters)",value:t.password,onChange:h,required:!0,disabled:c})]}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:c,children:c?"Registering...":"Register"})]}),e.jsxs("p",{className:"register-page-text",children:["Already have an account? ",e.jsx(r,{to:"/login",children:"Login here"})]})]})})};export{t as default};
