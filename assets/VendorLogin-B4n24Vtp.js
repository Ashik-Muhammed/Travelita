import{j as e}from"./index-DbrkFvWc.js";import{r as a,u as s,L as r}from"./router-DJX9oSP-.js";import{a as t}from"./axios-rSMZb3Ae.js";/* empty css                  */import"./react-CMmhtoO5.js";const o=()=>{const[o,n]=a.useState({email:"",password:""}),[i,l]=a.useState(!1),[d,c]=a.useState(null),m=s(),u=e=>{n({...o,[e.target.name]:e.target.value})};return e.jsx("div",{className:"auth-container",children:e.jsxs("div",{className:"auth-form-container",children:[e.jsx("h2",{children:"Vendor Login"}),d&&e.jsx("div",{className:"auth-error",children:d}),e.jsxs("form",{onSubmit:async e=>{var a,s;e.preventDefault(),l(!0),c(null);try{const e=await t.post("http://localhost:5000/api/vendors/login",o);localStorage.setItem("vendorToken",e.data.token),localStorage.setItem("vendorInfo",JSON.stringify(e.data.vendor)),m("/vendor/dashboard")}catch(r){c((null==(s=null==(a=r.response)?void 0:a.data)?void 0:s.message)||"Failed to login. Please check your credentials.")}finally{l(!1)}},className:"auth-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email"}),e.jsx("input",{type:"email",id:"email",name:"email",value:o.email,onChange:u,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"password",children:"Password"}),e.jsx("input",{type:"password",id:"password",name:"password",value:o.password,onChange:u,required:!0})]}),e.jsx("button",{type:"submit",className:"auth-button",disabled:i,children:i?"Logging in...":"Login"})]}),e.jsxs("div",{className:"auth-links",children:[e.jsxs("p",{children:["Don't have an account? ",e.jsx(r,{to:"/vendor/register",children:"Register"})]}),e.jsx("p",{children:e.jsx(r,{to:"/",children:"Back to Home"})})]})]})})};export{o as default};
