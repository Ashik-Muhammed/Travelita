import{f as e,j as a,h as s}from"./index-C_BwQPEG.js";import{r,u as i,L as t}from"./router-CLN5X-po.js";/* empty css                   */import"./react-CMmhtoO5.js";const l=()=>{const[l,n]=r.useState({name:"",email:"",password:"",role:"user"}),[o,d]=r.useState(""),[c,m]=r.useState(""),[u,p]=r.useState(!1),h=i(),{currentUser:g}=e();g&&h("/dashboard");const j=e=>{n({...l,[e.target.name]:e.target.value}),d(""),m("")},f=e=>{switch(e){case"auth/email-already-in-use":return"This email is already registered. Please use a different email or login.";case"auth/invalid-email":return"Invalid email format.";case"auth/weak-password":return"Password is too weak. Please use a stronger password.";case"auth/operation-not-allowed":return"Registration is currently disabled. Please try again later.";default:return"An error occurred during registration. Please try again."}};return a.jsx("div",{className:"register-page-container",children:a.jsxs("div",{className:"card register-form-card",children:[a.jsx("h2",{children:"Create Account"}),c&&a.jsx("p",{className:"success-message-register",children:c}),o&&a.jsx("p",{className:"error-message-register",children:o}),a.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),d(""),m(""),p(!0),!l.name||!l.email||!l.password)return d("All fields are required."),void p(!1);if(l.password.length<6)return d("Password must be at least 6 characters long."),void p(!1);try{const e=await s(l.name,l.email,l.password);e&&e.user?(m("Registration successful! Redirecting to dashboard..."),p(!1),h("/dashboard")):(m("Registration successful! Please login."),n({name:"",email:"",password:"",role:"user"}),setTimeout((()=>h("/login")),2e3))}catch(a){d(f(a.code)||"Registration failed. Please try again.")}finally{p(!1)}},children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"name",children:"Full Name"}),a.jsx("input",{type:"text",id:"name",name:"name",className:"input",placeholder:"Enter your full name",value:l.name,onChange:j,required:!0,disabled:u})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"email",children:"Email Address"}),a.jsx("input",{type:"email",id:"email",name:"email",className:"input",placeholder:"Enter your email",value:l.email,onChange:j,required:!0,disabled:u})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"password",children:"Password"}),a.jsx("input",{type:"password",id:"password",name:"password",className:"input",placeholder:"Create a password (min. 6 characters)",value:l.password,onChange:j,required:!0,disabled:u})]}),a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Registering...":"Register"})]}),a.jsxs("p",{className:"register-page-text",children:["Already have an account? ",a.jsx(t,{to:"/login",children:"Login here"})]})]})})};export{l as default};
