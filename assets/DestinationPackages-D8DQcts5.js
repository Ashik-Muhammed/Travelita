import{j as e}from"./index-DbrkFvWc.js";import{d as s,r as t,L as a}from"./router-DJX9oSP-.js";import{a as l}from"./axios-rSMZb3Ae.js";import"./react-CMmhtoO5.js";function i(){const{destination:i}=s(),[r,c]=t.useState([]),[o,d]=t.useState(!0),[n,x]=t.useState(null);return t.useEffect((()=>{(async()=>{if(i)try{d(!0);const e=await l.get(`http://localhost:5000/api/packages/destination/${i}`);c(e.data),d(!1)}catch(e){x(`Failed to fetch packages for ${i}`),d(!1)}})()}),[i]),o?e.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):n?e.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Error"}),e.jsx("p",{className:"text-gray-700",children:n}),e.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"Try Again"})]})}):e.jsx("div",{className:"min-h-screen bg-gray-100 py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-xl mb-12 h-64",children:[e.jsx("img",{src:`https://source.unsplash.com/featured/1200x400?${i}`,alt:i,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("h1",{className:"text-4xl font-extrabold text-white sm:text-5xl",children:["Explore ",i]}),e.jsx("p",{className:"mt-3 max-w-2xl mx-auto text-xl text-white",children:"Discover amazing tour packages for your perfect vacation"})]})})]}),0===r.length?e.jsxs("div",{className:"text-center py-12",children:[e.jsxs("p",{className:"text-gray-500 text-xl",children:["No packages available for ",i," at the moment."]}),e.jsx(a,{to:"/",className:"mt-6 inline-block bg-blue-600 py-3 px-8 rounded-md font-medium text-white hover:bg-blue-700 transition-colors",children:"Back to Home"})]}):e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-8",children:["Tour Packages in ",i]}),e.jsx("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3",children:r.map((s=>e.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[e.jsx("div",{className:"h-48 w-full overflow-hidden",children:e.jsx("img",{className:"h-full w-full object-cover transform hover:scale-110 transition-transform duration-500",src:s.images&&s.images.length>0?`http://localhost:5000/uploads/${s.images[0]}`:"https://via.placeholder.com/300x200?text=No+Image",alt:s.title})}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:s.title}),e.jsx("p",{className:"text-gray-500 mb-4 line-clamp-2",children:s.description}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("div",{className:"text-gray-700",children:e.jsxs("span",{className:"font-bold",children:["â‚¹",s.price]})}),e.jsx("div",{className:"text-gray-600 text-sm",children:s.duration})]}),e.jsx(a,{to:`/packages/${s._id}`,className:"block w-full text-center bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition-colors",children:"View Details"})]})]},s._id)))})]})]})})}export{i as default};
