import{a as e,j as a,r as s}from"./index-DaadRvQO.js";import{r,u as i,L as l}from"./router-DQ2x9woV.js";/* empty css                   */import"./react-CMmhtoO5.js";const t=()=>{const[t,n]=r.useState({name:"",email:"",password:"",role:"user"}),[o,d]=r.useState(""),[m,c]=r.useState(""),[u,p]=r.useState(!1),h=i(),{currentUser:g}=e();g&&h("/dashboard");const j=e=>{n({...t,[e.target.name]:e.target.value}),d(""),c("")},x=e=>{switch(e){case"auth/email-already-in-use":return"This email is already registered. Please use a different email or login.";case"auth/invalid-email":return"Invalid email format.";case"auth/weak-password":return"Password is too weak. Please use a stronger password.";case"auth/operation-not-allowed":return"Registration is currently disabled. Please try again later.";default:return"An error occurred during registration. Please try again."}};return a.jsx("div",{className:"register-page-container",children:a.jsxs("div",{className:"card register-form-card",children:[a.jsx("h2",{children:"Create Account"}),m&&a.jsx("p",{className:"success-message-register",children:m}),o&&a.jsx("p",{className:"error-message-register",children:o}),a.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),d(""),c(""),t.name&&t.email&&t.password)if(t.password.length<6)d("Password must be at least 6 characters long.");else try{p(!0),await s(t.name,t.email,t.password),c("Registration successful! Please login."),n({name:"",email:"",password:"",role:"user"}),setTimeout((()=>h("/login")),2e3)}catch(a){d(x(a.code)||"Registration failed. Please try again.")}finally{p(!1)}else d("All fields are required.")},children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"name",children:"Full Name"}),a.jsx("input",{type:"text",id:"name",name:"name",className:"input",placeholder:"Enter your full name",value:t.name,onChange:j,required:!0,disabled:u})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"email",children:"Email Address"}),a.jsx("input",{type:"email",id:"email",name:"email",className:"input",placeholder:"Enter your email",value:t.email,onChange:j,required:!0,disabled:u})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"password",children:"Password"}),a.jsx("input",{type:"password",id:"password",name:"password",className:"input",placeholder:"Create a password (min. 6 characters)",value:t.password,onChange:j,required:!0,disabled:u})]}),a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Registering...":"Register"})]}),a.jsxs("p",{className:"register-page-text",children:["Already have an account? ",a.jsx(l,{to:"/login",children:"Login here"})]})]})})};export{t as default};
