import{u as s,j as e,s as a,a as r,n as i,e as n}from"./index-CTnmfCPK.js";import{r as t,u as o,N as l,L as d}from"./router-CbvfO1vz.js";import{k as c,F as m,a as p}from"./index-DOWsMtyp.js";import"./react-CMmhtoO5.js";import"./iconBase-YQ9d7kAD.js";const u=()=>{const[u,h]=t.useState(""),[x,j]=t.useState(""),[g,f]=t.useState(""),[v,y]=t.useState(!1);o();const{currentUser:N,isAdmin:b,loading:w}=s()||{};if(b)return e.jsx(l,{to:"/admin/dashboard",replace:!0});if(w)return e.jsx("div",{className:"admin-login-container",children:e.jsxs("div",{className:"admin-login-box",style:{textAlign:"center"},children:[e.jsx("div",{className:"loading-spinner",style:{margin:"2rem auto"}}),e.jsx("p",{style:{marginTop:"1rem",color:"var(--text-secondary)"},children:"Checking authentication..."})]})});return e.jsx("div",{className:"admin-login-container",children:e.jsxs("div",{className:"admin-login-box",children:[e.jsxs("div",{className:"login-header",children:[e.jsx("h2",{children:"Admin Portal"}),e.jsx("p",{children:"Sign in to access the admin dashboard"})]}),g&&e.jsxs("div",{className:"error-message",children:[e.jsx(c,{size:18}),e.jsx("span",{children:g})]}),e.jsxs("form",{onSubmit:async s=>{s.preventDefault(),f(""),y(!0);try{const s=(await a(r,u,x)).user;if(!(await i(s.uid)))throw await n(r),new Error("Access denied. This account does not have admin privileges. Please contact your administrator.")}catch(e){f(e.message||"Failed to log in. Please try again.")}finally{y(!1)}},className:"login-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email Address"}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx(m,{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af",fontSize:"1.1rem"}}),e.jsx("input",{type:"email",id:"email",value:u,onChange:s=>h(s.target.value),required:!0,className:"form-control",placeholder:"your@email.com",style:{paddingLeft:"2.5rem"},autoComplete:"username"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"password",children:"Password"}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx(p,{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af",fontSize:"1.1rem"}}),e.jsx("input",{type:"password",id:"password",value:x,onChange:s=>j(s.target.value),required:!0,className:"form-control",placeholder:"••••••••",style:{paddingLeft:"2.5rem"},autoComplete:"current-password"})]})]}),e.jsx("div",{className:"form-group",style:{marginTop:"2rem"},children:e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:v,children:v?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"loading-spinner"}),e.jsx("span",{children:"Signing in..."})]}):"Sign In"})}),e.jsx("div",{className:"login-links",children:e.jsx(d,{to:"/forgot-password",children:"Forgot your password?"})})]})]})})};export{u as default};
