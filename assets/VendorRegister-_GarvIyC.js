import{j as e}from"./index-DbrkFvWc.js";import{r as s,u as a,L as r}from"./router-DJX9oSP-.js";import{a as n}from"./axios-rSMZb3Ae.js";/* empty css                  */import"./react-CMmhtoO5.js";const o=()=>{const[o,t]=s.useState({name:"",email:"",password:"",confirmPassword:"",companyName:"",phone:"",address:""}),[i,d]=s.useState(!1),[l,m]=s.useState(null),[c,h]=s.useState(!1),u=a(),p=e=>{t({...o,[e.target.name]:e.target.value})};return e.jsx("div",{className:"auth-container",children:e.jsxs("div",{className:"auth-form-container vendor-register",children:[e.jsx("h2",{children:"Vendor Registration"}),l&&e.jsx("div",{className:"auth-error",children:l}),c&&e.jsx("div",{className:"auth-success",children:"Registration successful! Redirecting..."}),e.jsxs("form",{onSubmit:async e=>{var s,a;if(e.preventDefault(),d(!0),m(null),h(!1),o.password!==o.confirmPassword)return m("Passwords do not match"),void d(!1);if(o.password.length<6)return m("Password must be at least 6 characters"),void d(!1);try{const{confirmPassword:e,...s}=o,a=await n.post("http://localhost:5000/api/vendors/register",s);h(!0),localStorage.setItem("vendorToken",a.data.token),localStorage.setItem("vendorInfo",JSON.stringify(a.data.vendor)),setTimeout((()=>{u("/vendor/dashboard")}),1500)}catch(r){m((null==(a=null==(s=r.response)?void 0:s.data)?void 0:a.message)||"Registration failed. Please try again.")}finally{d(!1)}},className:"auth-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"name",children:"Full Name"}),e.jsx("input",{type:"text",id:"name",name:"name",value:o.name,onChange:p,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email"}),e.jsx("input",{type:"email",id:"email",name:"email",value:o.email,onChange:p,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"companyName",children:"Company Name"}),e.jsx("input",{type:"text",id:"companyName",name:"companyName",value:o.companyName,onChange:p,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"phone",children:"Phone Number"}),e.jsx("input",{type:"tel",id:"phone",name:"phone",value:o.phone,onChange:p})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"address",children:"Business Address"}),e.jsx("textarea",{id:"address",name:"address",value:o.address,onChange:p,rows:"3"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"password",children:"Password"}),e.jsx("input",{type:"password",id:"password",name:"password",value:o.password,onChange:p,required:!0,minLength:"6"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),e.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:o.confirmPassword,onChange:p,required:!0,minLength:"6"})]}),e.jsx("button",{type:"submit",className:"auth-button",disabled:i||c,children:i?"Registering...":"Register"})]}),e.jsxs("div",{className:"auth-links",children:[e.jsxs("p",{children:["Already have an account? ",e.jsx(r,{to:"/vendor/login",children:"Login"})]}),e.jsx("p",{children:e.jsx(r,{to:"/",children:"Back to Home"})})]})]})})};export{o as default};
