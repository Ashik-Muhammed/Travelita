require("dotenv").config(); const mongoose = require("mongoose"); const bcrypt = require("bcrypt"); const User = require("./models/User"); const MONGO_URI = process.env.MONGO_URI || "mongodb://localhost:27017/tour-packages"; async function createAdmin() { try { await mongoose.connect(MONGO_URI); console.log("Connected!"); const salt = await bcrypt.genSalt(10); const hash = await bcrypt.hash("admin", salt); const user = new User({ name: "Administrator", email: "admin@gmail.com", password: hash, role: "admin" }); await user.save(); console.log("Admin created!"); } catch (err) { console.error("Error:", err); } finally { mongoose.connection.close(); } } createAdmin();
