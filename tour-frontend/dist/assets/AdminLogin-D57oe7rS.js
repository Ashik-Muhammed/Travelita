import{f as e,j as a,s,b as r,x as i,c as n}from"./index-C_BwQPEG.js";import{r as t,u as o,N as l,L as d}from"./router-CLN5X-po.js";import"./react-CMmhtoO5.js";const c=()=>{const[c,m]=t.useState(""),[u,h]=t.useState(""),[g,x]=t.useState(""),[j,p]=t.useState(!1);o();const{currentUser:f,isAdmin:v,loading:N}=e()||{};if(v)return a.jsx(l,{to:"/admin/dashboard",replace:!0});if(N)return a.jsx("div",{className:"admin-login-container",children:"Loading..."});return a.jsx("div",{className:"admin-login-container",children:a.jsxs("div",{className:"admin-login-box",children:[a.jsxs("div",{className:"login-header",children:[a.jsx("h2",{children:"Admin Login"}),a.jsx("p",{children:"Enter your credentials to access the admin panel"})]}),g&&a.jsx("div",{className:"error-message",children:g}),a.jsxs("form",{onSubmit:async e=>{e.preventDefault(),x(""),p(!0);try{const e=(await s(r,c,u)).user;if(!(await i(e.uid)))throw await n(r),new Error("Access denied. This account does not have admin privileges. Please contact your administrator.")}catch(a){x(a.message||"Failed to log in. Please try again.")}finally{p(!1)}},className:"login-form",children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"email",children:"Email"}),a.jsx("input",{type:"email",value:c,onChange:e=>m(e.target.value),required:!0,className:"form-control",placeholder:"Enter your email"})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Password"}),a.jsx("input",{type:"password",value:u,onChange:e=>h(e.target.value),required:!0,className:"form-control",placeholder:"Enter your password"})]}),a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:j,children:j?"Logging in...":"Login"})]}),a.jsx("div",{className:"mt-3 text-center",children:a.jsx(d,{to:"/forgot-password",children:"Forgot Password?"})})]})})};export{c as default};
